{% extends 'base.html' %}

<h1>{% block title %}Diet Goals{% endblock %}</h1>

{% block content %}
<div class="container">
  <h2 class="display-5">Your goals for this diet</h2>
</div>

<div class="container">
    <div class="row">
        <div class="col-sm">
        <!--TABLE-->
        <div class="container">
            <table class="table">
            <thead class="table-dark">
                <tr>
                <th scope="col">Week</th>
                <th scope="col">Period</th>
                <th scope="col">Calories</th>
                <th scope="col">Protein</th>
                <th scope="col">Carbs</th>
                <th scope="col">Fats</th>
                </tr>
            </thead>
            <tbody>
                {% for row in rows %}
                    <!--First Week-->
                    <tr>
                    <th scope="row">
                    {% if row['period'] < 2 %}
                    {{row['week']}}
                    {% endif %}
                    </th>
                    <td>{{row['period']}}</td>
                    <td>{{row['calories']}}</td>
                    <td>{{row['protein']}}</td>
                    <td>{{row['carbs']}}</td>
                    <td>{{row['fats']}}</td>
                    </tr>
                {% endfor %}
            </tbody>
            </table>
            </div>
        </div>
        
        <div class="col-sm">
            <!--WEIGHT DIAGRAM-->
            <div class="container">
                <canvas id="chart"></canvas>
            </div>
        </div>
    </div>
</div>

<script>
    let chart = document.getElementById('chart').getContext('2d');

    let weightChart = new Chart(chart, {
        type:'bar', //bar, horizontalBar, pie,line, doughnut, radar, polarArea
        data:{
            labels:[1, 2, 3, 4, 5, 6, 7, 8, 9],
            datasets:[{
                label:'Bodyweight'
                data:[90, 70, 60, 50, 50, 50, 50, 30, 10]
            }]
        },
        options:{}
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.2.0/chart.min.js"></script>

{% endblock  %}